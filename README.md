# Многопользовательский чат-сервер (Client-Server Architecture)
### Обзор проекта
 * Проект состоит из двух независимых Spring-приложений:

   * Сервер - многопользовательский чат-сервер с управлением комнатами

   * Клиент - консольное приложение для подключения к серверу

`Оба приложения используют общие модели данных, но компилируются и запускаются отдельно.`

`Полноценное клиент-серверное чат-приложение, созданное на базе Java Spring Framework, с возможностью обмена сообщениями в режиме реального времени, управления помещениями и многопользовательской поддержки.`



##  Возможности

### Сервер
-  **Аутентификация пользователей** - Система регистрации и входа
-  **Управление комнатами** - Создание и присоединение к чат-комнатам
-  **Обмен сообщениями в реальном времени** - Мгновенная доставка сообщений
-  **Поддержка множества клиентов** - Модель "поток на клиента"
-  **Сохранение сообщений** - Хранение истории чата с временными метками
-  **Валидация ввода** - Предотвращение дубликатов и обработка ошибок

### Клиент  
-  **Двухпоточная архитектура** - Раздельная обработка ввода и вывода
-  **Синхронизированная коммуникация** - Согласованный поток запрос-ответ
-  **JSON протокол** - Стандартизированный формат сообщений
-  **Корректное отключение** - Чистое завершение соединения

##  Архитектура

### Поток коммуникации
**Запрос клиента → JSON сериализация → Socket → Обработка сервером**  
↑ ↓  
**Ответ клиента ← JSON десериализация ← Socket ← Широковещательная рассылка**
### Модель потоков клиента
**Поток OutMessage Поток InMessage**  
↓ ↑  
**Ввод пользователя → Lock → Отправка → Получение → Lock → Отображение**  
↓ ↑  
**Консоль ←-------------------- Сообщения сервера**
## Быстрый старт

### Предварительные требования
- Java 8+
- Maven
- Spring Framework

### Запуск системы

1. **Запуск сервера:**
```bash
cd server
mvn compile exec:java -Dexec.mainClass="edu.school21.sockets.app.App" -Dexec.args="--port=8081"
```
2. **Запуск сервера:**
```bash
cd client  
mvn compile exec:java -Dexec.mainClass="edu.school21.sockets.app.App" -Dexec.args="--port=8081"
```
## Технологический стек
 * Java - Основной язык программирования
 * Spring Framework - Внедрение зависимостей
 * Spring JDBC - Работа с реляционными базами данных
 * HikariCP - Пул соединений для высокопроизводительного доступа к БД
 * PostgreSQL - Реляционная база данных для хранения сообщений и пользователей
 * Socket Programming - Сетевая коммуникация
 * Gson - JSON сериализация/десериализация
 * Maven - Сборка и управление зависимостями
 * Многопоточность - Обработка множества клиентов

## Workflow API
 * Фаза аутентификации
   * Подключение → Приветствие сервера
   * Выбор действия → Регистрация/Вход/Выход
   * Учетные данные → Проверка логина/пароля
   * Успех → Меню управления комнатами
 * Фаза работы с комнатами
   * Выбор комнаты → Создать новую или выбрать существующую
   * Вход в комнату → Загрузка истории сообщений
   * Чат → Обмен сообщениями в реальном времени
   * Выход → Возврат в меню или отключение

